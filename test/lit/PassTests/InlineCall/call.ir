// RUN: kecc-opt %s --fold-type-cast --inline-call | FileCheck %s

fun i32 @callee(i32, i32)
// CHECK: fun i32 @callee (i32, i32)

fun i32 @caller() {
// CHECK: fun i32 @caller ()
init:
  bid: b0
  allocations:
// CHECK-NEXT: init:
// CHECK-NEXT:   bid: b0
// CHECK-NEXT:   allocations:

block b0:
// CHECK-LABEL: block b0:
  %b0:i0:i32 = call @callee:[ret:i32 params:(i32, i32)]*(1:i32, 2:i32) 
  // CHECK-NEXT: %b0:i0:i32 = inline call @callee:[ret:i32 params:(i32, i32)](1:i32, 2:i32)
  ret %b0:i0:i32
  // CHECK-NEXT: %b0:i0:i32
}

fun i32 @caller2() {
// CHECK: fun i32 @caller2 ()
init:
  bid: b0
  allocations:
// CHECK-NEXT: init:
// CHECK-NEXT:   bid: b0
// CHECK-NEXT:   allocations:

block b0:
// CHECK-LABEL: block b0:
  %b0:i0:[ret:i32 params:(i32, i32)]* = typecast @callee:[ret:i32 params:(i32, i32)]* to [ret:i32 params:(i32, i32)]*
  %b0:i1:i32 = call %b0:i0:[ret:i32 params:(i32, i32)]*(1:i32, 2:i32)
  // CHECK-NEXT: %b0:i0:i32 = inline call @callee:[ret:i32 params:(i32, i32)](1:i32, 2:i32)
  ret %b0:i1:i32
  // CHECK-NEXT: ret %b0:i0:i32
  
}
