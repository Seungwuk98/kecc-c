// RUN: kecc-opt %s --outline-constant | FileCheck %s

fun unit @switch_outline () {
// CHECK: fun unit @switch_outline () 
init:
  bid: b0
  allocations:
// CHECK-NEXT: init:
// CHECK-NEXT:   bid: b0
// CHECK-NEXT:   allocations:


block b0:
// CHECK-LABEL: block b0:
  switch 10:i32 default b4() [
    1:i32 b1()
    2:i32 b2()
    3:i32 b3()
  ]
  // CHECK-NEXT: %b0:i0:i32 = outline 10:i32
  // CHECK-NEXT: switch %b0:i0:i32 default b4() [
  // CHECK-NEXT:   1:i32 b1()
  // CHECK-NEXT:   2:i32 b2()
  // CHECK-NEXT:   3:i32 b3()
  // CHECK-NEXT: ]

block b1:
  ret 

block b2:
  ret

block b3:
  ret

block b4:
  ret 
}
