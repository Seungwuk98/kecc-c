// RUN: kecc-opt %s -action=parse | FileCheck %s

fun unit @foo () {
init:
  bid: b0
  allocations: 


block b0:
  ret unit:unit
}

fun i32 @main () {
init:
  bid: b0
  allocations: 


block b0:
  %b0:i0:unit = call @foo:[ret:unit params:()]*()
  ret 1:i32

block b1:
  ret 0:i32
}


// CHECK: fun unit @foo () {
// CHECK-NEXT: init:
// CHECK-NEXT: bid: b0
// CHECK-NEXT: allocations:


// CHECK-LABEL: block b0:
// CHECK-NEXT: ret unit:unit
// CHECK-NEXT: }

// CHECK-LABEL: fun i32 @main () {
// CHECK-NEXT: init:
// CHECK-NEXT: bid: b0
// CHECK-NEXT: allocations:


// CHECK-LABEL: block b0:
// CHECK-NEXT: %b0:i0:unit = call @foo:[ret:unit params:()]*()
// CHECK-NEXT: ret 1:i32

// CHECK-LABEL: block b1:
// CHECK-NEXT: ret 0:i32
// CHECK-NEXT: }

